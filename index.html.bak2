<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Points System</title>
    <!-- Font Awesome icons for feature cards and decorative elements -->
    <link rel="stylesheet" href="css/fontawesome.min.css">
    <style>
        /*
         * Custom styling inspired by modern dark themed web apps and the RCA House Points design.
         * We use rich gradients, frosted glass panels, colourful banners and icon cards to create
         * a polished, professional feel across the site.
         */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
            /* Replace the plain gradient with a highâ€‘resolution science background. The image depicts
               molecules and DNA strands to reinforce the STEM theme and adds depth to the page. */
            background: url('img/science_bg.png') no-repeat center center fixed;
            background-size: cover;
            color: #f5f5f5;
            min-height: 100vh;
            position: relative;
            /* Add a slow panning animation to the background image. The animation moves the
               background position over time, creating the effect of a living, sciency backdrop.
               The long duration and linear timing ensure a smooth, subtle movement that will
               continuously loop without distraction. */
            /* Speed up the background animation by a factor of four. Reducing the
               duration to 15s makes the science backdrop move faster across the
               screen, creating a more dynamic feel. */
            animation: moveScienceBackground 15s linear infinite;
        }

        /* Keyframes for the moving science background. The background image shifts along
           both the x and y axes over one cycle. At the halfway point the image has moved
           all the way across on one axis, then returns to the starting point by the end.
           Adjust the percentages to control the direction and speed of movement. */
        @keyframes moveScienceBackground {
            0% {
                background-position: 0 0;
            }
            50% {
                background-position: 50% 50%;
            }
            100% {
                background-position: 0 0;
            }
        }

        /* Overlay layer to darken the background for improved contrast. The negative z-index ensures
           that it sits below all other content. */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, rgba(9,14,23,0.85), rgba(15,23,42,0.85));
            z-index: -1;
        }
        .d-none { display: none; }

        /* Navigation bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(10px);
            color: #f5f5f5;
            z-index: 1000;
        }
        .navbar a {
            color: inherit;
            text-decoration: none;
            margin-left: 1rem;
        }
        .navbar .right-links {
            display: flex;
            align-items: center;
        }

        /* HERO SECTION */
        .hero {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            text-align: left;
            padding: 6rem 1rem 4rem;
            color: #fff;
        }
        .hero-text {
            flex: 1 1 320px;
            max-width: 480px;
            margin-right: 2rem;
        }
        .hero-text h1 {
            font-size: 3rem;
            margin-bottom: 1.2rem;
            line-height: 1.2;
        }
        .hero-text p {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            color: #d1d5db;
        }
        .hero-phone {
            flex: 1 1 260px;
            max-width: 400px;
            position: relative;
        }
        .phone-frame {
            width: 100%;
            padding-top: 200%; /* aspect ratio 1:2 for phone */
            border-radius: 24px;
            position: relative;
            background: #0a0f1b;
            overflow: hidden;
            box-shadow: 0 16px 32px rgba(0,0,0,0.5);
        }
        .phone-screen {
            position: absolute;
            top: 4%;
            left: 7%;
            width: 86%;
            height: 92%;
            border-radius: 16px;
            background: #1f2937;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .phone-screen h4 {
            margin: 0.5rem;
            font-size: 1rem;
            text-align: center;
            color: #f3f4f6;
        }
        .house-list {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 0.5rem;
            gap: 0.4rem;
        }
        .house-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.3rem 0.5rem;
            border-radius: 8px;
            font-size: 0.75rem;
            color: #fff;
        }
        .house-item span {
            font-weight: 600;
        }
        .house-item.red    { background: #dc2626; }
        .house-item.green  { background: #16a34a; }
        .house-item.blue   { background: #2563eb; }
        .house-item.purple { background: #7e22ce; }
        .house-item.orange { background: #ea580c; }
        .phone-notification {
            position: absolute;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.95);
            color: #0f172a;
            padding: 0.4rem 0.8rem;
            border-radius: 8px;
            font-size: 0.7rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        /* FEATURES SECTION */
        .features {
            padding: 4rem 1rem;
            background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.1), transparent 70%);
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.5rem;
        }
        .feature-card {
            flex: 1 1 260px;
            max-width: 300px;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            text-align: left;
            color: #f3f4f6;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card .icon {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            color: #fff;
            font-size: 1.2rem;
        }
        .feature-card h3 {
            margin: 0 0 0.5rem;
            font-size: 1.25rem;
            color: #e5e7eb;
        }
        .feature-card p {
            margin: 0;
            font-size: 0.9rem;
            color: #cbd5e1;
        }

        /* Add a subtle hover animation to feature cards for a more dynamic feel */
        .feature-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 12px 32px rgba(0,0,0,0.45);
        }

        /* MAIN CARD FOR LOGIN AND APP */
        .container {
            max-width: 960px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(14px);
        }
        /* Tabs */
        .nav-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .nav-tabs button {
            background: none;
            border: none;
            padding: 0.75rem 1rem;
            cursor: pointer;
            font-size: 1rem;
            color: #cbd5e1;
            border-bottom: 3px solid transparent;
            transition: color 0.2s ease, border-color 0.2s ease;
        }
        .nav-tabs button:hover {
            color: #a5b4fc;
        }
        .nav-tabs button.active {
            border-color: #6366f1;
            color: #e0e7ff;
            font-weight: 600;
        }
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            overflow: hidden;
        }
        th, td {
            padding: 0.6rem 0.75rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        th {
            background: rgba(255,255,255,0.08);
            font-weight: 600;
        }
        tr:last-child td {
            border-bottom: none;
        }
        /* Colour badge */
        .badge {
            display: inline-block;
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        /* Forms */
        form {
            margin-bottom: 2rem;
        }
        input[type="text"], input[type="password"], input[type="number"], select, textarea {
            width: 100%;
            padding: 0.6rem 0.8rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            background: rgba(255,255,255,0.1);
            color: #e2e8f0;
            box-sizing: border-box;
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99,102,241,0.4);
        }
        textarea {
            resize: vertical;
        }
        label {
            display: block;
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
            color: #cbd5e1;
        }
        /* Buttons */
        button {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-right: 0.5rem;
            transition: background-color 0.2s ease;
        }
        button.primary { background-color: #6366f1; color: #fff; }
        button.secondary { background-color: #475569; color: #fff; }
        button.danger { background-color: #dc2626; color: #fff; }
        button.success { background-color: #16a34a; color: #fff; }
        button:hover {
            filter: brightness(1.1);
        }
        /* Alerts */
        .alert {
            padding: 0.75rem 1rem;
            margin-bottom: 1.5rem;
            border-radius: 6px;
            border: 1px solid transparent;
        }
        .alert-success { background-color: rgba(34,197,94,0.2); border-color: rgba(34,197,94,0.4); color: #bbf7d0; }
        .alert-danger  { background-color: rgba(239,68,68,0.2); border-color: rgba(239,68,68,0.4); color: #fecaca; }
        .alert-info    { background-color: rgba(59,130,246,0.2); border-color: rgba(59,130,246,0.4); color: #dbeafe; }

        /* Leaderboard cards */
        .leaderboard-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
        }

        /* Vertical leaderboard layout */
        .leaderboard-vertical {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }
        .leaderboard-row {
            display: flex;
            align-items: center;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
        }
        .leaderboard-row .rank {
            font-size: 2rem;
            font-weight: 700;
            color: #facc15;
            margin-right: 1rem;
            width: 80px;
            text-align: center;
        }
        .leaderboard-row .logo {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }
        .leaderboard-row .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        .leaderboard-row .details h4 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: 600;
            color: #e5e7eb;
        }
        .leaderboard-row .details h3 {
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
            color: #facc15;
        }

        /* Confetti animation used during the ceremony */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 2000;
        }
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            opacity: 0.9;
            animation: confetti-fall 3s linear forwards;
            border-radius: 2px;
        }
        @keyframes confetti-fall {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .house-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            width: 220px;
            overflow: hidden;
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            position: relative;
            display: flex;
            flex-direction: column;
        }
        .house-card-banner {
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .house-card-banner::after {
            content: "";
            position: absolute;
            bottom: -20px;
            left: 0;
            width: 100%;
            height: 20px;
            background: inherit;
            clip-path: polygon(0 0, 100% 0, 50% 100%);
        }
        .house-card-banner span {
            font-size: 1rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 1px 2px rgba(0,0,0,0.4);
        }
        .house-card-body {
            padding: 1rem;
            text-align: center;
        }
        .house-card-body h4 {
            margin: 0.5rem 0 0.25rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: #e5e7eb;
        }
        .house-card-body h2.house-points {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
            color: #facc15;
        }
        /* Logo container within house card */
        .house-card-logo {
            width: 100%;
            height: 140px;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .house-card-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        .house-logo-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 700;
            color: rgba(255,255,255,0.5);
            background: rgba(0,0,0,0.3);
        }

        /* Student photos in the Students table */
        /* Enlarge the student photos and names for greater visibility */
        .student-photo {
            width: 120px;
            height: 120px;
            border-radius: 12px;
            object-fit: cover;
            border: 3px solid rgba(255,255,255,0.2);
        }
        .placeholder-photo {
            width: 120px;
            height: 120px;
            border-radius: 12px;
            background: rgba(255,255,255,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255,255,255,0.4);
            font-size: 0.8rem;
        }
        /* Bigger font for student names */
        td.name-cell {
            font-size: 1.5rem;
            font-weight: 600;
            color: #e5e7eb;
        }
    </style>
</head>
<body>
    <nav class="navbar" id="navbar" class="d-none">
        <div><strong>House Points</strong></div>
        <div class="right-links">
            <span id="currentUserDisplay"></span>
            <a href="#" id="logoutLink" onclick="logout()" style="display: none;">Logout</a>
        </div>
    </nav>

    <!-- Landing Page (hero + features) shown before login -->
    <div id="landingPage">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-text">
                <h1>Ignite Your School's STEM Spirit</h1>
                <p>Engage students, recognize excellence and build a sense of community with our house points system.</p>
                <p>Login below to start managing houses, students and points with ease.</p>
            </div>
            <div class="hero-phone">
                <div class="phone-frame">
                    <div class="phone-screen">
                        <h4>House Points</h4>
                        <div class="house-list">
                            <div class="house-item red"><span>Amistad</span> 135</div>
                            <div class="house-item green"><span>Altruismo</span> 120</div>
                            <div class="house-item blue"><span>RÃªveur</span> 110</div>
                            <div class="house-item purple"><span>Isibindi</span> 90</div>
                            <div class="house-item orange"><span>Valor</span> 80</div>
                        </div>
                    </div>
                    <div class="phone-notification">+5 points awarded!</div>
                </div>
            </div>
        </section>
        <!-- Features Section -->
        <section class="features">
            <div class="feature-card">
                <div class="icon" style="background-color:#6366f1"><i class="fas fa-flask"></i></div>
                <h3>Celebrate Discovery</h3>
                <p>Reward scientific curiosity and innovation instantly with a sleek, engaging interface.</p>
            </div>
            <div class="feature-card">
                <div class="icon" style="background-color:#f43f5e"><i class="fas fa-chart-line"></i></div>
                <h3>Progress Analytics</h3>
                <p>Monitor student achievements with dataâ€‘driven insights and clear visual indicators.</p>
            </div>
            <div class="feature-card">
                <div class="icon" style="background-color:#10b981"><i class="fas fa-rocket"></i></div>
                <h3>STEM Competition</h3>
                <p>Fuel friendly rivalry and inspire excellence across science, technology, engineering and maths.</p>
            </div>
        </section>
    </div>

    <!-- Login Page -->
    <div class="container" id="loginPage">
        <h2>Login</h2>
        <div id="loginAlert" class="alert alert-danger d-none"></div>
        <form onsubmit="event.preventDefault(); login();">
            <label for="loginUsername">Username</label>
            <input type="text" id="loginUsername" required>
            <label for="loginPassword">Password</label>
            <input type="password" id="loginPassword" required>
            <button type="submit" class="primary">Login</button>
        </form>
        <p><strong>Initial credentials:</strong> admin / admin123</p>
    </div>

    <!-- Main Page -->
    <div class="container d-none" id="mainPage">
        <!-- Navigation tabs (dynamically generated) -->
        <div class="nav-tabs" id="navTabs"></div>
        <!-- Content area -->
        <div id="contentArea"></div>
    </div>

    <!-- Footer conveying the STEM mission -->
    <footer style="text-align: center; padding: 2rem 1rem; color: #9ca3af; font-size: 0.9rem;">
        <p>&copy; <span id="currentYear"></span> Your School â€¢ Empowering the next generation of scientists.</p>
    </footer>

    <script src="script.js"></script>
    <!-- Insert current year into footer -->
    <script>
      document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>